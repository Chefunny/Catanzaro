<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contracts Overview</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
  <?!= include("css/navigation"); ?>
  <?!= include("css/contracts"); ?>
  <base target="_top">

  <?!= include("data/common_scripts/fetchData") ?>
  <?!= include("data/common_scripts/deleteData") ?>

  <?!= include("data/specific/contracts") ?>

</head>
<body>
  <header>
    <h1>Contracts Overview</h1>
    <div class="header-right">
      Hello, <span id="username"><?= getUser()['name'].split(" ")[0]?>!</span>
    </div>
  </header>
  <div class="container">
    <aside>
      <ul>
        <li><a href="<?= createUrl('dashboard') ?>">Dashboard</a></li>
        <li><a href="<?= createUrl('contracts') ?>">Contracts</a></li>
        <li><a href="<?= createUrl('forecasts') ?>">Forecasts</a></li>
        <li><a href="<?= createUrl('operations') ?>">Operations</a></li>
      </ul>
    </aside>
    <main>
      <section class="content">
        <h2>All Contracts</h2>
        <table id="contractTable">
          <thead>
            <tr>
              <th>Contract Number</th>
              <th>Producer</th>
              <th>Seller</th>
              <th>Client</th>
              <th>Product Summary</th>
              <th>Total Weight</th>
              <th>Total Price PO</th>
              <th>Total Price PI</th>
              <th>PO PDF</th>
              <th>PI PDF</th>
              <th>Modify</th>
            </tr>
          </thead>
          <tbody id="contractTableBody">
          </tbody>
        </table>
      </section>

      <?!= include("html/contracts/scripts") ?>


      <section class="sidebar">
        <h2>Actions</h2>
        <button class="action-button"><a href="<?= createUrl('contractsform') ?>">Create new PO/PI</a></button>
        <button class="action-button"><a href="<?= createUrl('authorizations') ?>">Authorizations</a></button>
        <button class="action-button" id="refreshButton">Refresh Contracts</button>
      </section>
      <a id="view-contract-history" href="<?= createUrl('contractHistory')?>" style="display:none;"></a>
    </main>
  </div>
</body>
</html>
